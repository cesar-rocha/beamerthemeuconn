% Background leaf option (logical)
\newif\if@uconn@bgleaf
\@uconn@bgleaffalse
\DeclareOptionBeamer{bgleaf}{\@uconn@bgleaftrue}
% Footer logo option (multiple choice)
\DeclareOptionBeamer{logo}{\def\beamer@uconn@logo{#1}}

\ExecuteOptionsBeamer{logo=uconn}
\ProcessOptionsBeamer

\mode<presentation>

\def\beamer@uconn@logouconn{uconn}
\def\beamer@uconn@logouconnhealth{uconnhealth}

% Background image
\if@uconn@bgleaf
  \usebackgroundtemplate
  {
    \includegraphics[height=\paperheight, trim=170 0 0 0, clip=true, decodearray={0.95 1 0.95 1 0.95 1}]{images/oak-leaf/oak-leaf-blue.png}
  }
\fi

% Footline logo
\setbeamertemplate{footline}
{
  \leavevmode
  \hbox{
    \begin{beamercolorbox}[wd=\paperwidth, dp=3ex, leftskip=.5cm, rightskip=.5cm]{institution in head/foot}
      \hfill
      % Choose logo file based on `logo` option
      \ifx\beamer@uconn@logo\beamer@uconn@logouconn
        \includegraphics[height=4ex]{images/woodmarks/uconn-wordmark-single-blue.png}
      \else
        \ifx\beamer@uconn@logo\beamer@uconn@logouconnhealth
          \includegraphics[height=4ex]{images/woodmarks/uconn-health-wordmark-stacked-blue.png}
        \fi
      \fi

    \end{beamercolorbox}
  }
  \vskip0pt
}
% More woodmarks can be found at the Brand Standard website:
% https://brand.uconn.edu/downloads/logos/

\mode<all>